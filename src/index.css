@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 225 25% 6%;
    --foreground: 40 20% 90%;

    --card: 225 22% 10%;
    --card-foreground: 40 20% 90%;

    --popover: 225 22% 10%;
    --popover-foreground: 40 20% 90%;

    --primary: 140 55% 38%;
    --primary-foreground: 40 20% 95%;

    --secondary: 270 65% 55%;
    --secondary-foreground: 40 20% 95%;

    --muted: 225 18% 15%;
    --muted-foreground: 225 12% 55%;

    --accent: 25 90% 55%;
    --accent-foreground: 225 25% 6%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 40 20% 95%;

    --border: 225 18% 18%;
    --input: 225 18% 18%;
    --ring: 270 65% 55%;

    --radius: 0.5rem;

    --sidebar-background: 225 25% 8%;
    --sidebar-foreground: 40 20% 90%;
    --sidebar-primary: 140 55% 38%;
    --sidebar-primary-foreground: 40 20% 95%;
    --sidebar-accent: 225 18% 15%;
    --sidebar-accent-foreground: 40 20% 90%;
    --sidebar-border: 225 18% 18%;
    --sidebar-ring: 270 65% 55%;

    /* Custom tokens */
    --portal: 270 65% 55%;
    --portal-glow: 270 80% 65%;
    --lava: 15 95% 50%;
    --lava-glow: 25 100% 60%;
    --diamond: 195 85% 55%;
    --emerald: 140 60% 45%;
    --gold: 45 95% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Space Grotesk', sans-serif;
  }
}

/* Pixel font utility */
.font-pixel {
  font-family: 'Press Start 2P', cursive;
}

/* Glass panel */
.glass-panel {
  background: hsla(225, 22%, 10%, 0.7);
  backdrop-filter: blur(16px);
  border: 1px solid hsla(225, 18%, 25%, 0.4);
}

/* Portal glow */
.portal-glow {
  box-shadow: 0 0 30px hsla(270, 80%, 65%, 0.4),
              0 0 60px hsla(270, 80%, 65%, 0.2),
              inset 0 0 30px hsla(270, 80%, 65%, 0.1);
}

.portal-glow-text {
  text-shadow: 0 0 20px hsla(270, 80%, 65%, 0.6),
               0 0 40px hsla(270, 80%, 65%, 0.3);
}

/* Lava glow */
.lava-glow {
  box-shadow: 0 0 20px hsla(15, 95%, 50%, 0.4),
              0 0 40px hsla(25, 100%, 60%, 0.2);
}

/* Diamond shimmer */
.diamond-glow {
  box-shadow: 0 0 15px hsla(195, 85%, 55%, 0.4),
              0 0 30px hsla(195, 85%, 55%, 0.2);
}

/* Emerald glow */
.emerald-glow {
  box-shadow: 0 0 15px hsla(140, 60%, 45%, 0.4),
              0 0 30px hsla(140, 60%, 45%, 0.2);
}

/* Floating animation */
@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(2deg); }
}

@keyframes float-slow {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes particle-rise {
  0% { transform: translateY(0) scale(1); opacity: 0.8; }
  100% { transform: translateY(-100px) scale(0); opacity: 0; }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-float-slow {
  animation: float-slow 8s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 3s ease-in-out infinite;
}

.animate-shimmer {
  background-size: 200% 100%;
  animation: shimmer 3s linear infinite;
}

/* Scroll reveal */
.reveal {
  opacity: 0;
  transform: translateY(40px);
  transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}

.reveal.visible,
.reveal[data-revealed="true"] {
  opacity: 1;
  transform: translateY(0);
}

/* Section background overlay */
.section-overlay {
  position: relative;
}

.section-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    hsla(225, 25%, 6%, 0.85) 0%,
    hsla(225, 25%, 6%, 0.6) 50%,
    hsla(225, 25%, 6%, 0.85) 100%
  );
  z-index: 1;
}

.section-overlay > * {
  position: relative;
  z-index: 2;
}

/* XP bar */
.xp-bar {
  background: linear-gradient(90deg, hsl(140, 55%, 38%), hsl(140, 60%, 50%));
  box-shadow: 0 0 10px hsla(140, 60%, 45%, 0.5);
}

/* ========== NETHER GATEWAY ========== */

/* Nether dimension background */
.nether-dimension {
  background:
    radial-gradient(ellipse at 50% 100%, hsla(270, 60%, 15%, 0.4) 0%, transparent 60%),
    radial-gradient(ellipse at 50% 0%, hsla(270, 80%, 10%, 0.3) 0%, transparent 50%),
    hsl(225, 25%, 4%);
}

/* Lava cracks ground */
.nether-ground {
  background:
    linear-gradient(180deg, transparent 0%, hsla(15, 95%, 50%, 0.05) 60%, hsla(15, 95%, 50%, 0.1) 100%);
  mask-image: linear-gradient(180deg, transparent 0%, black 100%);
}

/* Nether particles rising */
.nether-particle {
  animation: nether-rise linear infinite;
}

@keyframes nether-rise {
  0% { transform: translateY(0) scale(1); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 0.6; }
  100% { transform: translateY(-80vh) scale(0.3); opacity: 0; }
}

/* Ender Dragon orbit */
.ender-dragon-orbit {
  animation: dragon-fly 12s linear infinite;
  display: inline-block;
}

@keyframes dragon-fly {
  0% { transform: translateX(-120px) translateY(0); }
  25% { transform: translateX(30vw) translateY(-15px); }
  50% { transform: translateX(60vw) translateY(5px); }
  75% { transform: translateX(80vw) translateY(-10px); }
  100% { transform: translateX(calc(100vw + 120px)) translateY(0); }
}

.dragon-eye {
  fill: hsl(270, 100%, 70%);
  animation: dragon-eye-glow 2s ease-in-out infinite;
}

@keyframes dragon-eye-glow {
  0%, 100% { fill: hsl(270, 100%, 70%); }
  50% { fill: hsl(300, 100%, 80%); }
}

.dragon-wing-left {
  transform-origin: 50px 14px;
  animation: wing-flap-l 0.6s ease-in-out infinite;
}
.dragon-wing-right {
  transform-origin: 60px 14px;
  animation: wing-flap-r 0.6s ease-in-out infinite;
}

@keyframes wing-flap-l {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(-15deg); }
}
@keyframes wing-flap-r {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(15deg); }
}

.dragon-flame {
  fill: hsl(270, 80%, 60%);
  animation: flame-pulse 1.5s ease-in-out infinite;
}

@keyframes flame-pulse {
  0%, 100% { opacity: 0.3; r: 2; }
  50% { opacity: 1; r: 4; }
}

/* Portal frame */
.portal-obsidian-frame {
  background: linear-gradient(135deg, hsl(270, 20%, 10%), hsl(270, 15%, 6%));
  border: 3px solid hsl(270, 30%, 18%);
  border-radius: 4px;
  box-shadow:
    inset 0 0 20px hsla(270, 60%, 20%, 0.5),
    0 0 40px hsla(270, 80%, 50%, 0.15);
}

/* Portal swirl */
.portal-swirl {
  background: radial-gradient(ellipse, hsla(270, 80%, 55%, 0.6), hsla(270, 90%, 30%, 0.8));
  animation: portal-pulse 3s ease-in-out infinite;
}

@keyframes portal-pulse {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

.portal-swirl-inner {
  background:
    conic-gradient(from 0deg, transparent, hsla(270, 100%, 70%, 0.4), transparent, hsla(280, 100%, 60%, 0.3), transparent);
  animation: portal-spin 4s linear infinite;
}

@keyframes portal-spin {
  to { transform: rotate(360deg); }
}

.portal-swirl-overlay {
  background:
    radial-gradient(circle at 30% 40%, hsla(270, 100%, 80%, 0.3), transparent 50%),
    radial-gradient(circle at 70% 60%, hsla(290, 100%, 70%, 0.2), transparent 50%);
  animation: portal-shimmer 5s ease-in-out infinite alternate;
}

@keyframes portal-shimmer {
  0% { opacity: 0.5; transform: scale(1); }
  100% { opacity: 1; transform: scale(1.05); }
}

.portal-light-rays {
  background: radial-gradient(ellipse at center, hsla(270, 80%, 65%, 0.15), transparent 70%);
  animation: rays-pulse 4s ease-in-out infinite;
}

@keyframes rays-pulse {
  0%, 100% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.1); opacity: 0.8; }
}

/* Nether form panel */
.nether-form-panel {
  background: hsla(270, 25%, 8%, 0.85);
  backdrop-filter: blur(20px);
  border: 1px solid hsla(270, 60%, 45%, 0.3);
  box-shadow:
    0 0 30px hsla(270, 80%, 55%, 0.15),
    inset 0 0 30px hsla(270, 60%, 30%, 0.1);
}

.nether-transmitting {
  animation: transmit-pulse 0.5s ease-in-out infinite;
  border-color: hsla(270, 80%, 65%, 0.6);
}

@keyframes transmit-pulse {
  0%, 100% { box-shadow: 0 0 30px hsla(270, 80%, 55%, 0.3); }
  50% { box-shadow: 0 0 60px hsla(270, 80%, 55%, 0.6), 0 0 100px hsla(270, 80%, 55%, 0.2); }
}

.nether-sent {
  border-color: hsla(270, 80%, 65%, 0.5);
  box-shadow: 0 0 50px hsla(270, 80%, 55%, 0.3);
}

/* Transmit button */
.nether-transmit-btn {
  background: linear-gradient(135deg, hsla(270, 65%, 40%, 0.8), hsla(270, 80%, 30%, 0.9));
  border: 1px solid hsla(270, 80%, 55%, 0.4);
  color: hsl(270, 100%, 90%);
  box-shadow: 0 0 20px hsla(270, 80%, 55%, 0.2);
}

.nether-transmit-btn:hover:not(:disabled) {
  background: linear-gradient(135deg, hsla(270, 70%, 45%, 0.9), hsla(270, 85%, 35%, 1));
  box-shadow: 0 0 30px hsla(270, 80%, 55%, 0.4), 0 0 60px hsla(270, 80%, 55%, 0.15);
  transform: translateY(-1px);
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(225, 25%, 6%);
}

::-webkit-scrollbar-thumb {
  background: hsl(225, 18%, 25%);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(270, 65%, 55%);
}
